{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","app/assets/img/camera.svg","app/components/ImageFileInput/index.js","app/pages/Depoimentos/index.js"],"names":["_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","ImageFileInput","label","previewUrl","onChange","invalid","props","useState","preview","setPreview","handlePreview","useCallback","e","file","files","encodeURI","URL","createObjectURL","FormGroup","Label","className","style","border","backgroundImage","display","src","camera","alt","Input","type","hidden","FormFeedback","SearchBar","Search","ExportCSVButton","CSVExport","Depoimentos","useManager","datas","load","destroy","update","store","showModal","setShowModal","id","setId","name","setName","url","setUrl","image","setImage","mensagem","setMensagem","useEffect","handleUpdate","data","_id","handleCreate","handleSave","formData","FormData","append","columns","dataField","text","formatter","cell","row","image_url","sort","csvExport","color","size","onClick","width","xs","sm","md","block","keyField","exportCSV","fileName","onlyExportFiltered","exportAll","separator","noAutoBOM","search","placeholder","searchProps","pagination","paginationFactory","baseProps","csvProps","isOpen","toggle","centered","value"],"mappings":"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","file":"static/js/7.cc343907.chunk.js","sourcesContent":["import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","export default __webpack_public_path__ + \"static/media/camera.95f820bb.svg\";","/* eslint-disable no-nested-ternary */\nimport React, { useState, useCallback } from 'react';\nimport { FormFeedback, FormGroup, Input, Label } from 'reactstrap';\n\nimport camera from '../../assets/img/camera.svg';\nimport './styles.css';\n\nfunction ImageFileInput({\n  label = 'Selecione uma imagem',\n  previewUrl,\n  onChange,\n  invalid,\n  ...props\n}) {\n  const [preview, setPreview] = useState();\n\n  const handlePreview = useCallback((e) => {\n    const file = e.target.files[0];\n\n    if (!file) {\n      setPreview(null);\n      return;\n    }\n\n    setPreview(encodeURI(URL.createObjectURL(file)));\n\n    if (onChange) {\n      onChange(file);\n    }\n  }, []);\n\n  return (\n    <FormGroup>\n      <Label\n        className=\"image-file-input-container\"\n        style={{\n          border: invalid\n            ? '1px solid var(--danger)'\n            : preview || previewUrl\n              ? '1px solid var(--dark)'\n              : '1px dashed var(--dark)',\n          backgroundImage: `url(${preview || previewUrl})`,\n        }}\n      >\n        {label && !invalid && (\n          <small\n            style={{\n              display: preview || previewUrl ? 'none' : '',\n            }}\n          >\n            {label}\n          </small>\n        )}\n        <img\n          src={camera}\n          alt=\"Selecione uma Imagem\"\n          style={{\n            display: preview || previewUrl ? 'none' : '',\n          }}\n        />\n        <Input\n          type=\"file\"\n          invalid={!!invalid}\n          onChange={handlePreview}\n          hidden\n          {...props}\n        />\n        <FormFeedback className=\"text-center\">{invalid}</FormFeedback>\n      </Label>\n    </FormGroup>\n  );\n}\n\nexport default ImageFileInput;\n","import React, { useEffect, useState, useCallback } from 'react';\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport paginationFactory from 'react-bootstrap-table2-paginator';\nimport ToolkitProvider, {\n  Search,\n  CSVExport,\n} from 'react-bootstrap-table2-toolkit';\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardFooter,\n  Col,\n  Container,\n  Form,\n  FormGroup,\n  Input,\n  Modal,\n  ModalBody,\n  ModalFooter,\n  ModalHeader,\n  Row,\n  UncontrolledTooltip,\n} from 'reactstrap';\n\nimport ImageFileInput from '../../components/ImageFileInput';\nimport { useManager } from '../../hooks/manager';\n\nconst { SearchBar } = Search;\nconst { ExportCSVButton } = CSVExport;\n\nfunction Depoimentos() {\n  const { datas, load, destroy, update, store } = useManager();\n  const [showModal, setShowModal] = useState(false);\n  const [id, setId] = useState();\n  const [name, setName] = useState('');\n  const [url, setUrl] = useState('');\n  const [image, setImage] = useState('');\n  const [mensagem, setMensagem] = useState('');\n\n  useEffect(() => {\n    load('/depoimentos');\n  }, [load]);\n\n  const handleUpdate = useCallback((data) => {\n    setId(data._id);\n    setUrl(data.url);\n    setName(data.name);\n    setMensagem(data.mensagem);\n    setShowModal(true);\n  }, []);\n\n  const handleCreate = useCallback(() => {\n    setId(null);\n    setUrl('');\n    setName('');\n    setMensagem('');\n    setShowModal(true);\n  }, []);\n\n  const handleSave = useCallback(() => {\n    const formData = new FormData();\n\n    formData.append('name', name);\n    formData.append('url', url);\n    formData.append('image', image);\n    formData.append('mensagem', mensagem);\n\n    if (id) {\n      update(id, '/depoimentos', formData);\n      setShowModal(false);\n      return;\n    }\n\n    store('/depoimentos', formData);\n    setShowModal(false);\n  }, [id, name, url, image, mensagem]);\n\n  const actions = (cell, row) => (\n    <>\n      <UncontrolledTooltip target={`button-view-${row._id}`}>\n        Alterar\n      </UncontrolledTooltip>\n      <Button\n        id={`button-view-${row._id}`}\n        color=\"info\"\n        size=\"sm\"\n        className=\"mt-2 mr-2\"\n        onClick={() => handleUpdate(row)}\n      >\n        <i className=\"fas fa-edit\" />\n      </Button>\n      <UncontrolledTooltip target={`button-delete-${row._id}`}>\n        Excluir\n      </UncontrolledTooltip>\n      <Button\n        id={`button-delete-${row._id}`}\n        color=\"danger\"\n        className=\"mt-2 mr-2\"\n        size=\"sm\"\n        onClick={() => destroy(row._id, '/depoimentos')}\n      >\n        <i className=\"fas fa-trash\" />\n      </Button>\n    </>\n  );\n\n  const columns = [\n    {\n      dataField: '_id',\n      text: 'ID',\n      hidden: true,\n    },\n    {\n      dataField: 'name',\n      text: 'Nome',\n      formatter: (cell, row) => row.name || row.url || row.image_url,\n    },\n    {\n      dataField: '#',\n      text: '#',\n      sort: false,\n      csvExport: false,\n      formatter: actions,\n      style: () => ({ width: '120px' }),\n    },\n  ];\n\n  return (\n    <Container>\n      <Row>\n        <Col>\n          <Card>\n            <CardBody>\n              <Row>\n                <Col>\n                  <h3>Depoimentos</h3>\n                </Col>\n              </Row>\n            </CardBody>\n            <CardFooter>\n              <Row>\n                <Col>\n                  <Row>\n                    <Col xs={12} sm={5} md={3} className=\"mb-3 mb-xl-0\">\n                      <Button block color=\"success\" onClick={handleCreate}>\n                        Cadastrar\n                      </Button>\n                    </Col>\n                  </Row>\n                </Col>\n              </Row>\n            </CardFooter>\n          </Card>\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n          <Card>\n            <CardBody>\n              <ToolkitProvider\n                key=\"_id\"\n                keyField=\"_id\"\n                data={datas}\n                columns={columns}\n                exportCSV={{\n                  fileName: 'gadonamao.csv',\n                  onlyExportFiltered: true,\n                  exportAll: false,\n                  separator: ';',\n                  noAutoBOM: false,\n                }}\n                search\n              >\n                {(props) => (\n                  <div>\n                    <SearchBar placeholder=\"Buscar\" {...props.searchProps} />\n                    <hr />\n                    <BootstrapTable\n                      pagination={paginationFactory()}\n                      {...props.baseProps}\n                    />\n                    <ExportCSVButton {...props.csvProps}>\n                      Export CSV!!\n                    </ExportCSVButton>\n                  </div>\n                )}\n              </ToolkitProvider>\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n      <Modal\n        isOpen={showModal}\n        toggle={() => setShowModal(!showModal)}\n        centered\n      >\n        <ModalHeader>\n          <strong>Depoimento</strong>\n          <Button\n            className=\"close position-absolute top-4 right-4 py-1 px-2\"\n            onClick={() => setShowModal(false)}\n          >\n            <i className=\"fas fa-times\" />\n          </Button>\n        </ModalHeader>\n        <ModalBody>\n          <Form>\n            <ImageFileInput\n              previewUrl={image}\n              onChange={(file) => setImage(file)}\n            />\n            <FormGroup>\n              <Input\n                type=\"text\"\n                placeholder=\"Nome do cliente\"\n                value={name}\n                onChange={({ target: { value } }) => setName(value)}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Input\n                type=\"text\"\n                placeholder=\"Url do video\"\n                value={url}\n                onChange={({ target: { value } }) => setUrl(value)}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Input\n                type=\"textarea\"\n                placeholder=\"Mensagem\"\n                value={mensagem}\n                onChange={({ target: { value } }) => setMensagem(value)}\n              />\n            </FormGroup>\n          </Form>\n        </ModalBody>\n        <ModalFooter>\n          <Button onClick={handleSave}>Salvar</Button>\n        </ModalFooter>\n      </Modal>\n    </Container>\n  );\n}\n\nexport default Depoimentos;\n"],"sourceRoot":""}