(this["webpackJsonpprojeto-gadonamao-admin-frontend"]=this["webpackJsonpprojeto-gadonamao-admin-frontend"]||[]).push([[7],{163:function(e,t,a){},164:function(e,t,a){"use strict";var c=a(149),n=a(22);function r(e,t){if(null==e)return{};var a,c,n=function(e,t){if(null==e)return{};var a,c,n={},r=Object.keys(e);for(c=0;c<r.length;c++)a=r[c],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(c=0;c<r.length;c++)a=r[c],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var s=a(1),i=a(68),l=a(73),o=a(70),j=a(67),d=a.p+"static/media/camera.95f820bb.svg",b=(a(163),a(8));t.a=function(e){var t=e.label,a=void 0===t?"Selecione uma imagem":t,u=e.previewUrl,O=e.onChange,x=e.invalid,h=r(e,["label","previewUrl","onChange","invalid"]),m=Object(s.useState)(),p=Object(n.a)(m,2),f=p[0],g=p[1],v=Object(s.useCallback)((function(e){var t=e.target.files[0];t?(g(encodeURI(URL.createObjectURL(t))),O&&O(t)):g(null)}),[]);return Object(b.jsx)(i.a,{children:Object(b.jsxs)(l.a,{className:"image-file-input-container",style:{border:x?"1px solid var(--danger)":f||u?"1px solid var(--dark)":"1px dashed var(--dark)",backgroundImage:"url(".concat(f||u,")")},children:[a&&!x&&Object(b.jsx)("small",{style:{display:f||u?"none":""},children:a}),Object(b.jsx)("img",{src:d,alt:"Selecione uma Imagem",style:{display:f||u?"none":""}}),Object(b.jsx)(o.a,Object(c.a)({type:"file",invalid:!!x,onChange:v,hidden:!0},h)),Object(b.jsx)(j.a,{className:"text-center",children:x})]})})}},405:function(e,t,a){"use strict";a.r(t);var c=a(149),n=a(22),r=a(1),s=a(151),i=a.n(s),l=a(152),o=a.n(l),j=a(153),d=a.n(j),b=a(74),u=a(26),O=a(49),x=a(50),h=a(51),m=a(58),p=a(59),f=a(60),g=a(85),v=a(63),y=a(64),C=a(66),S=a(68),k=a(70),N=a(65),w=a(164),_=a(46),E=a(8),F=j.Search.SearchBar,U=j.CSVExport.ExportCSVButton;t.default=function(){var e=Object(_.b)(),t=e.datas,a=e.load,s=e.destroy,l=e.update,j=e.store,I=Object(r.useState)(!1),P=Object(n.a)(I,2),B=P[0],D=P[1],V=Object(r.useState)(),A=Object(n.a)(V,2),R=A[0],z=A[1],J=Object(r.useState)(""),L=Object(n.a)(J,2),M=L[0],q=L[1],G=Object(r.useState)(""),H=Object(n.a)(G,2),K=H[0],Q=H[1],T=Object(r.useState)(""),W=Object(n.a)(T,2),X=W[0],Y=W[1],Z=Object(r.useState)(""),$=Object(n.a)(Z,2),ee=$[0],te=$[1];Object(r.useEffect)((function(){a("/depoimentos")}),[a]);var ae=Object(r.useCallback)((function(e){z(e._id),Q(e.url),q(e.name),te(e.mensagem),D(!0)}),[]),ce=Object(r.useCallback)((function(){z(null),Q(""),q(""),te(""),D(!0)}),[]),ne=Object(r.useCallback)((function(){var e=new FormData;if(e.append("name",M),e.append("url",K),e.append("image",X),e.append("mensagem",ee),R)return l(R,"/depoimentos",e),void D(!1);j("/depoimentos",e),D(!1)}),[R,M,K,X,ee]),re=[{dataField:"_id",text:"ID",hidden:!0},{dataField:"name",text:"Nome",formatter:function(e,t){return t.name||t.url||t.image_url}},{dataField:"#",text:"#",sort:!1,csvExport:!1,formatter:function(e,t){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(b.a,{target:"button-view-".concat(t._id),children:"Alterar"}),Object(E.jsx)(u.a,{id:"button-view-".concat(t._id),color:"info",size:"sm",className:"mt-2 mr-2",onClick:function(){return ae(t)},children:Object(E.jsx)("i",{className:"fas fa-edit"})}),Object(E.jsx)(b.a,{target:"button-delete-".concat(t._id),children:"Excluir"}),Object(E.jsx)(u.a,{id:"button-delete-".concat(t._id),color:"danger",className:"mt-2 mr-2",size:"sm",onClick:function(){return s(t._id,"/depoimentos")},children:Object(E.jsx)("i",{className:"fas fa-trash"})})]})},style:function(){return{width:"120px"}}}];return Object(E.jsxs)(O.a,{children:[Object(E.jsx)(x.a,{children:Object(E.jsx)(h.a,{children:Object(E.jsxs)(m.a,{children:[Object(E.jsx)(p.a,{children:Object(E.jsx)(x.a,{children:Object(E.jsx)(h.a,{children:Object(E.jsx)("h3",{children:"Depoimentos"})})})}),Object(E.jsx)(f.a,{children:Object(E.jsx)(x.a,{children:Object(E.jsx)(h.a,{children:Object(E.jsx)(x.a,{children:Object(E.jsx)(h.a,{xs:12,sm:5,md:3,className:"mb-3 mb-xl-0",children:Object(E.jsx)(u.a,{block:!0,color:"success",onClick:ce,children:"Cadastrar"})})})})})})]})})}),Object(E.jsx)(x.a,{children:Object(E.jsx)(h.a,{children:Object(E.jsx)(m.a,{children:Object(E.jsx)(p.a,{children:Object(E.jsx)(d.a,{keyField:"_id",data:t,columns:re,exportCSV:{fileName:"gadonamao.csv",onlyExportFiltered:!0,exportAll:!1,separator:";",noAutoBOM:!1},search:!0,children:function(e){return Object(E.jsxs)("div",{children:[Object(E.jsx)(F,Object(c.a)({placeholder:"Buscar"},e.searchProps)),Object(E.jsx)("hr",{}),Object(E.jsx)(i.a,Object(c.a)({pagination:o()()},e.baseProps)),Object(E.jsx)(U,Object(c.a)(Object(c.a)({},e.csvProps),{},{children:"Export CSV!!"}))]})}},"_id")})})})}),Object(E.jsxs)(g.a,{isOpen:B,toggle:function(){return D(!B)},centered:!0,children:[Object(E.jsxs)(v.a,{children:[Object(E.jsx)("strong",{children:"Depoimento"}),Object(E.jsx)(u.a,{className:"close position-absolute top-4 right-4 py-1 px-2",onClick:function(){return D(!1)},children:Object(E.jsx)("i",{className:"fas fa-times"})})]}),Object(E.jsx)(y.a,{children:Object(E.jsxs)(C.a,{children:[Object(E.jsx)(w.a,{previewUrl:X,onChange:function(e){return Y(e)}}),Object(E.jsx)(S.a,{children:Object(E.jsx)(k.a,{type:"text",placeholder:"Nome do cliente",value:M,onChange:function(e){var t=e.target.value;return q(t)}})}),Object(E.jsx)(S.a,{children:Object(E.jsx)(k.a,{type:"text",placeholder:"Url do video",value:K,onChange:function(e){var t=e.target.value;return Q(t)}})}),Object(E.jsx)(S.a,{children:Object(E.jsx)(k.a,{type:"textarea",placeholder:"Mensagem",value:ee,onChange:function(e){var t=e.target.value;return te(t)}})})]})}),Object(E.jsx)(N.a,{children:Object(E.jsx)(u.a,{onClick:ne,children:"Salvar"})})]})]})}}}]);
//# sourceMappingURL=7.cc343907.chunk.js.map