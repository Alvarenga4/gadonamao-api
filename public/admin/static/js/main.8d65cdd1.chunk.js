(this["webpackJsonpprojeto-gadonamao-admin-frontend"]=this["webpackJsonpprojeto-gadonamao-admin-frontend"]||[]).push([[1],{143:function(e,t,n){},144:function(e,t,n){},145:function(e,t,n){},146:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(20),o=n.n(c),s=n(31),u=n(75),i=n(32),l=n(46),f=n(10),b=n(8),d=a.a.lazy((function(){return Promise.all([n.e(11),n.e(5)]).then(n.bind(null,406))})),j=function(){return Object(b.jsxs)(f.c,{children:[Object(b.jsx)(f.a,{path:"/",element:Object(b.jsx)(d,{})}),Object(b.jsx)(f.a,{path:"*",element:Object(b.jsx)(d,{})})]})},m=a.a.lazy((function(){return Promise.all([n.e(3),n.e(16)]).then(n.bind(null,394))})),p=function(){return Object(b.jsxs)(f.c,{children:[Object(b.jsx)(f.a,{path:"admin/",element:Object(b.jsx)(m,{})}),Object(b.jsx)(f.a,{path:"admin/:token",element:Object(b.jsx)(m,{})})]})},O=(n(141),n(142),n(143),n(144),n(145),Object(b.jsx)("div",{className:"bg-primary opacity-7 d-flex w-100 vh-100 align-items-center justify-content-center position-fixed left-0 top-0",style:{zIndex:999999},children:Object(b.jsx)(u.a,{type:"grow"})})),x=function(){var e=Object(i.b)().isAuthenticated;return Object(b.jsx)(s.a,{children:Object(b.jsx)(r.Suspense,{fallback:O,children:e?Object(b.jsx)(l.a,{children:Object(b.jsx)(j,{})}):Object(b.jsx)(p,{})})})},h=n(48);o.a.render(Object(b.jsx)(h.b,{children:Object(b.jsx)(i.a,{children:Object(b.jsx)(x,{})})}),document.getElementById("root"))},19:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c}));var r="@token",a="@idkey",c="@username"},24:function(e,t,n){"use strict";var r=n(14),a=n.n(r),c=n(18),o=n(88),s=n.n(o),u=n(19),i=s.a.create({baseURL:"http://gadonamao-com-br.umbler.net/api"});i.interceptors.request.use(function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem(u.b),r=localStorage.getItem(u.a),n&&(t.headers.Authorization="Bearer ".concat(n),t.headers.id=r),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.a=i},32:function(e,t,n){"use strict";n.d(t,"b",(function(){return d}));var r=n(14),a=n.n(r),c=n(18),o=n(22),s=n(1),u=n(33),i=n(19),l=n(24),f=n(8),b=Object(s.createContext)(),d=function(){var e=Object(s.useContext)(b);if(!e)throw new Error("useAuth must be used within a AuthProvider");return e};t.a=function(e){var t=e.children,n=Object(s.useState)(null),r=Object(o.a)(n,2),d=r[0],j=r[1],m=Object(s.useState)(!1),p=Object(o.a)(m,2),O=p[0],x=p[1],h=Object(s.useRef)();Object(s.useEffect)((function(){d?Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!d){e.next=5;break}return e.next=4,l.a.get("/tokens-admin/".concat(d));case 4:x(!0);case 5:e.next=15;break;case 7:if(e.prev=7,e.t0=e.catch(0),console.log(e.t0),x(!1),"string"!==typeof e.t0){e.next=14;break}return h.current.notify({message:e.t0,color:"danger"}),e.abrupt("return");case 14:e.t0&&e.t0.response&&(t=e.t0.response.data.message)&&h.current.notify({message:t,color:"danger"});case 15:case"end":return e.stop()}}),e,null,[[0,7]])})))():x(!1)}),[d]);var v=Object(s.useMemo)((function(){return{isAuthenticated:O,signIn:function(e,t){localStorage.setItem(i.b,e),localStorage.setItem(i.a,t.id||t._id),localStorage.setItem(i.c,t.name),j(e)},signOut:function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.delete("/tokens/".concat(d));case 2:localStorage.removeItem(i.b),localStorage.removeItem(i.a),localStorage.removeItem(i.c),j(null);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}),[d,O]);return Object(s.useEffect)((function(){j(localStorage.getItem(i.b))}),[]),Object(f.jsxs)(b.Provider,{value:v,children:[Object(f.jsx)(u.a,{ref:h}),t]})}},33:function(e,t,n){"use strict";var r=n(1),a=n(86),c=n.n(a),o=n(8);function s(e,t){var n=Object(r.useRef)();return Object(r.useImperativeHandle)(t,(function(){return{notify:function(e){var t=e.place,r=e.title,a=e.message,c=e.color,s=e.icon,u=e.autoDismiss,i=e.closeButton,l={place:t||"tr",message:Object(o.jsxs)("div",{className:"d-flex flex-column",children:[Object(o.jsx)("span",{className:"alert-title",children:r||"Mensagem"}),Object(o.jsx)("span",{children:a})]}),type:c||"success",icon:s||"fas fa-bell",autoDismiss:u||5,closeButton:i};n.current.notificationAlert(l)}}})),Object(o.jsx)(c.a,{ref:n})}t.a=Object(r.forwardRef)(s)},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));var r=n(39),a=n(14),c=n.n(a),o=n(18),s=n(22),u=n(1),i=n(89),l=n.n(i),f=n(33),b=n(24),d=n(8),j=Object(u.createContext)(),m=function(e){var t=e.children,n=Object(u.useState)(null),a=Object(s.a)(n,2),i=a[0],m=a[1],p=Object(u.useState)([]),O=Object(s.a)(p,2),x=O[0],h=O[1],v=Object(u.useState)(!1),g=Object(s.a)(v,2),k=g[0],w=g[1],y=Object(u.useRef)(),S=Object(u.useCallback)((function(e,t){if("string"!==typeof e){if(e&&e.response){var n=e.response.data.message;if(n)return void y.current.notify({title:t,message:n,color:"danger"})}y.current.notify({message:t,color:"danger"})}else y.current.notify({title:t,message:e,color:"danger"})}),[]),C=Object(u.useCallback)((function(e,t,n){e&&Object(o.a)(c.a.mark((function r(){var a;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,w(!0),r.next=4,b.a.get(e);case 4:a=r.sent,h(a.data),t&&t(),w(!1),r.next=15;break;case 10:r.prev=10,r.t0=r.catch(0),n&&n(r.t0),w(!1),S(r.t0,"Falha ao carregar os dados");case 15:case"end":return r.stop()}}),r,null,[[0,10]])})))()}),[S]),I=Object(u.useCallback)((function(e,t,n,a){e&&t&&Object(o.a)(c.a.mark((function o(){var s;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,w(!0),c.next=4,b.a.post(e,t);case 4:s=c.sent,h((function(e){return[s.data].concat(Object(r.a)(e))})),y.current.notify({message:"Cadastrado com sucesso!!!"}),n&&n(),w(!1),c.next=16;break;case 11:c.prev=11,c.t0=c.catch(0),a&&a(c.t0),w(!1),S(c.t0,"Falha ao Cadastrar");case 16:case"end":return c.stop()}}),o,null,[[0,11]])})))()}),[S]),B=Object(u.useCallback)((function(e,t,n,a,s){e&&t&&n&&Object(o.a)(c.a.mark((function o(){var u;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,w(!0),c.next=4,b.a.put("".concat(t,"/").concat(e),n);case 4:u=c.sent,h((function(t){return[u.data].concat(Object(r.a)(t.filter((function(t){return(t.id||t._id)!==e}))))})),y.current.notify({message:"Alterado com sucesso!!!"}),a&&a(),w(!1),c.next=16;break;case 11:c.prev=11,c.t0=c.catch(0),s&&s(c.t0),w(!1),S(c.t0,"Falha ao alterar");case 16:case"end":return c.stop()}}),o,null,[[0,11]])})))()}),[S]),z=Object(u.useCallback)((function(e,t,n,r){e&&t&&Object(o.a)(c.a.mark((function a(){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{m(Object(d.jsx)(l.a,{danger:!0,title:"Confirm",onCancel:function(){return m(null)},showCancel:!0,showCloseButton:!0,confirmBtnBsStyle:"danger",confirmBtnText:"Excluir",cancelBtnBsStyle:"link",cancelBtnText:"Cancelar",reverseButtons:!0,onConfirm:Object(o.a)(c.a.mark((function a(){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,w(!0),a.next=4,b.a.delete("".concat(t,"/").concat(e));case 4:h((function(t){return t.filter((function(t){return(t.id||t._id)!==e}))})),m(null),y.current.notify({message:"Excluido com sucesso"}),n&&n(),w(!1),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(0),r&&r(a.t0),w(!1),S(a.t0,"Falha ao excluir");case 16:case"end":return a.stop()}}),a,null,[[0,11]])}))),children:Object(d.jsx)("strong",{children:"Tem certeza que deseja excluir?"})}))}catch(s){r&&r(s),w(!1),S(s,"Falha ao excluir")}case 1:case"end":return a.stop()}}),a)})))()}),[S]),E=Object(u.useMemo)((function(){return{loading:k,datas:x,setDatas:h,load:C,store:I,update:B,destroy:z}}),[k,x,h,C,I,B,z]);return Object(d.jsxs)(j.Provider,{value:E,children:[i,Object(d.jsx)(f.a,{ref:y}),t]})},p=function(){var e=Object(u.useContext)(j);if(!e)throw new Error("useManager must be used within a ManagerProvider");return e}},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(22),a=n(1),c="@sidebarshow",o=n(8),s=Object(a.createContext)();t.b=function(e){var t=e.children,n=Object(a.useState)("opened"),u=Object(r.a)(n,2),i=u[0],l=u[1],f=Object(a.useCallback)((function(){l((function(e){return localStorage.setItem(c,"opened"===e?"closed":"opened"),"opened"===e?"closed":"opened"}))}),[]),b=Object(a.useCallback)((function(){l((function(){return localStorage.setItem(c,"minimized"),"minimized"}))}),[]);Object(a.useEffect)((function(){l(localStorage.getItem(c)||"opened")}),[]);var d=Object(a.useMemo)((function(){return{sidebarShow:i,toggleSidebar:f,minimizeSidebar:b}}),[i]);return Object(o.jsx)(s.Provider,{value:d,children:t})}}},[[146,2,4]]]);
//# sourceMappingURL=main.8d65cdd1.chunk.js.map