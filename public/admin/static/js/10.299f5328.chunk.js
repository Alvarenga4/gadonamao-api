(this["webpackJsonpprojeto-gadonamao-admin-frontend"]=this["webpackJsonpprojeto-gadonamao-admin-frontend"]||[]).push([[10],{182:function(e,t,a){"use strict";var c=a(22),s=a(1),r=a(12),n=a(26),o=a(8);t.a=function(){var e=Object(s.useState)(!1),t=Object(c.a)(e,2),a=t[0],i=t[1];Object(s.useEffect)((function(){var e=function(){i(document.body.scrollTop>150||document.documentElement.scrollTop>150)};return document.addEventListener("scroll",e,!1),function(){return document.removeEventListener("scroll",e,!1)}}),[]);var l=Object(s.useCallback)((function(){document.body.scrollTop=0,document.documentElement.scrollTop=0}),[]);return Object(o.jsx)(r.a,{in:a,className:"z-index-99999",children:Object(o.jsx)(n.a,{id:"go-to-top",color:"primary",className:"position-fixed bottom-5 right-5 rounded-circle opacity-6 z-index-99999",onClick:l,children:Object(o.jsx)("i",{className:"fas fa-arrow-up"})})})}},395:function(e,t,a){"use strict";a.r(t);var c=a(149),s=a(14),r=a.n(s),n=a(18),o=a(22),i=a(1),l=a(151),d=a.n(l),j=a(152),u=a.n(j),b=a(153),p=a.n(b),x=a(190),m=a(74),O=a(26),h=a(49),f=a(50),v=a(51),g=a(58),N=a(59),C=a(60),k=a(85),w=a(63),_=a(64),y=a(66),S=a(68),F=a(73),E=a(70),z=a(65),A=a(182),B=a(33),R=a(48),T=a(46),V=a(24),L=a(8),P=b.Search.SearchBar,J=b.CSVExport.ExportCSVButton;t.default=function(){var e=Object(i.useState)(),t=Object(o.a)(e,2),a=t[0],s=t[1],l=Object(i.useState)(""),j=Object(o.a)(l,2),b=j[0],M=j[1],U=Object(i.useState)(""),W=Object(o.a)(U,2),D=W[0],I=W[1],q=Object(i.useState)(""),G=Object(o.a)(q,2),H=G[0],K=G[1],Q=Object(i.useState)(""),X=Object(o.a)(Q,2),Y=X[0],Z=X[1],$=Object(i.useState)(!1),ee=Object(o.a)($,2),te=ee[0],ae=ee[1],ce=Object(T.b)(),se=ce.datas,re=ce.load,ne=ce.destroy,oe=ce.update,ie=ce.store,le=Object(i.useContext)(R.a).setLoading,de=Object(i.useRef)();Object(i.useEffect)((function(){re("/users")}),[re]);var je=Object(i.useCallback)((function(e){s(e._id),I(e.email),K(e.whatsapp),M(e.name),Z(e.approved),ae(!0)}),[]),ue=Object(i.useCallback)((function(){s(null),I(""),K(""),M(""),Z(null),ae(!0)}),[]),be=Object(i.useCallback)((function(){var e={name:b,email:D,whatsapp:H};if(a)return oe(a,"/users"),void ae(!1);ie("/users",e),ae(!1)}),[]),pe=Object(i.useCallback)((function(e){Object(n.a)(r.a.mark((function t(){var a,c,s,n,o,i;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,le(!0),t.next=4,V.a.get("/repproved-notify/".concat(e));case 4:c=t.sent,s=c.data.message,le(!1),null===de||void 0===de||null===(a=de.current)||void 0===a||a.notify({message:s}),t.next=19;break;case 10:if(t.prev=10,t.t0=t.catch(0),console.log(t.t0),!t.t0||!t.t0.response){t.next=18;break}if(!(o=t.t0.response.data.message)){t.next=18;break}return null===de||void 0===de||null===(i=de.current)||void 0===i||i.notify({message:o,color:"danger"}),t.abrupt("return");case 18:null===de||void 0===de||null===(n=de.current)||void 0===n||n.notify({message:"Falha na tentativa de notificar o usu\xe1rio da reprova\xe7\xe3o do seu cadastro. Avise o administrador do sistema"});case 19:case"end":return t.stop()}}),t,null,[[0,10]])})))()}),[]),xe=[{dataField:"_id",text:"ID",hidden:!0},{dataField:"name",text:"Nome",sort:!0},{dataField:"email",text:"email",hidden:x.isMobile},{dataField:"approved",text:"Status",sort:!1,formatter:function(e,t){return t.approved?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(m.a,{target:"approve-".concat(t._id),children:"Aprovado"}),Object(L.jsx)("i",{id:"approve-".concat(t._id),className:"fas fa-thumbs-up text-success mt-2"})]}):Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(m.a,{target:"approve-".concat(t._id),children:"Reprovado"}),Object(L.jsx)("i",{id:"approve-".concat(t._id),className:"fas fa-thumbs-down text-danger mt-2"})]})},align:"center",style:function(){return{width:"50px"}},csvFormatter:function(e,t){return t.approved?"Sim":"N\xe3o"}},{dataField:"#",text:"#",sort:!1,csvExport:!1,formatter:function(e,t){return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(m.a,{target:"button-view-".concat(t._id),children:"Alterar"}),Object(L.jsx)(O.a,{id:"button-view-".concat(t._id),color:"info",size:"sm",className:"mt-2 mr-2",onClick:function(){return je(t)},children:Object(L.jsx)("i",{className:"fas fa-edit"})}),t.approved?Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(m.a,{target:"button-approve-".concat(t._id),children:"Reprovar"}),Object(L.jsx)(O.a,{id:"button-approve-".concat(t._id),color:"warning",className:"mt-2 mr-2 text-white",size:"sm",onClick:function(){return oe(t._id,"/users",{approved:!1})},children:Object(L.jsx)("i",{className:"fas fa-thumbs-down"})})]}):Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(m.a,{target:"button-approve-".concat(t._id),children:"Aprovar"}),Object(L.jsx)(O.a,{id:"button-approve-".concat(t._id),color:"success",className:"mt-2 mr-2",size:"sm",onClick:function(){return oe(t._id,"/users",{approved:!0})},children:Object(L.jsx)("i",{className:"fas fa-thumbs-up"})}),Object(L.jsx)(m.a,{target:"button-notify-".concat(t._id),children:"Notificar cadastro reprovado"}),Object(L.jsx)(O.a,{id:"button-notify-".concat(t._id),color:"danger",className:"mt-2 mr-2",size:"sm",onClick:function(){return pe(t._id)},children:Object(L.jsx)("i",{className:"fas fa-times-circle"})})]}),Object(L.jsx)(m.a,{target:"button-delete-".concat(t._id),children:"Excluir"}),Object(L.jsx)(O.a,{id:"button-delete-".concat(t._id),color:"danger",className:"mt-2 mr-2",size:"sm",onClick:function(){return ne(t._id,"/users")},children:Object(L.jsx)("i",{className:"fas fa-trash"})})]})},style:function(){return{width:"120px"}}},{dataField:"whatsapp",text:"Whatsapp",hidden:!0}];return Object(L.jsxs)(h.a,{children:[Object(L.jsx)(B.a,{ref:de}),Object(L.jsx)(f.a,{children:Object(L.jsx)(v.a,{children:Object(L.jsxs)(g.a,{children:[Object(L.jsx)(N.a,{children:Object(L.jsx)(f.a,{children:Object(L.jsx)(v.a,{children:Object(L.jsx)("h3",{children:"Usu\xe1rios"})})})}),Object(L.jsx)(C.a,{children:Object(L.jsx)(f.a,{children:Object(L.jsx)(v.a,{children:Object(L.jsx)(f.a,{children:Object(L.jsx)(v.a,{xs:12,sm:5,md:3,className:"mb-3 mb-xl-0",children:Object(L.jsx)(O.a,{block:!0,color:"success",onClick:ue,children:"Cadastrar"})})})})})})]})})}),Object(L.jsx)(f.a,{children:Object(L.jsx)(v.a,{children:Object(L.jsx)(g.a,{children:Object(L.jsx)(N.a,{children:Object(L.jsx)(p.a,{keyField:"_id",data:se,columns:xe,exportCSV:{fileName:"gadonamao-usuarios.csv",onlyExportFiltered:!0,exportAll:!1,separator:";",noAutoBOM:!1},search:!0,children:function(e){return Object(L.jsxs)("div",{children:[Object(L.jsx)(P,Object(c.a)({placeholder:"Buscar"},e.searchProps)),Object(L.jsx)("hr",{}),Object(L.jsx)(d.a,Object(c.a)({pagination:u()()},e.baseProps)),Object(L.jsx)(J,Object(c.a)(Object(c.a)({},e.csvProps),{},{children:"Export CSV!!"}))]})}},"_id")})})})}),Object(L.jsx)(A.a,{}),Object(L.jsxs)(k.a,{isOpen:te,toggle:function(){return ae(!te)},centered:!0,children:[Object(L.jsxs)(w.a,{children:[Object(L.jsx)("strong",{children:"Usu\xe1rio"}),Object(L.jsx)(O.a,{className:"close position-absolute top-4 right-4 py-1 px-2",onClick:function(){return ae(!1)},children:Object(L.jsx)("i",{className:"fas fa-times"})})]}),Object(L.jsx)(_.a,{children:Object(L.jsxs)(y.a,{children:[Object(L.jsxs)(S.a,{children:[Object(L.jsx)(F.a,{for:"name",children:"Nome"}),Object(L.jsx)(E.a,{id:"name",type:"text",placeholder:"Nome",value:b,onChange:function(e){var t=e.target.value;return M(t)}})]}),Object(L.jsxs)(S.a,{children:[Object(L.jsx)(F.a,{for:"email",children:"Email"}),Object(L.jsx)(E.a,{id:"email",type:"text",placeholder:"Email",value:D,onChange:function(e){var t=e.target.value;return I(t)}})]}),Object(L.jsxs)(S.a,{children:[Object(L.jsx)(F.a,{for:"whatsapp",children:"Whatsapp"}),Object(L.jsx)(E.a,{id:"whatsapp",type:"text",placeholder:"whatsapp",value:H,onChange:function(e){var t=e.target.value;return K(t)}})]})]})}),Object(L.jsxs)(z.a,{children:[Object(L.jsx)(O.a,{onClick:be,children:"Salvar"}),null===Y?null:Y?Object(L.jsxs)(O.a,{color:"warning",className:"ml-auto text-white",onClick:function(){return oe(a,"/users",{approved:!1})},children:[Object(L.jsx)("i",{className:"fas fa-thumbs-down"})," ","Reprovar"]}):Object(L.jsxs)(O.a,{color:"success",className:"ml-auto",onClick:function(){return oe(a,"/users",{approved:!0})},children:[Object(L.jsx)("i",{className:"fas fa-thumbs-up"})," ","Aprovar"]})]})]})]})}}}]);
//# sourceMappingURL=10.299f5328.chunk.js.map