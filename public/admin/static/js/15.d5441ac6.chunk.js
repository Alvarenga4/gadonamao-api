(this["webpackJsonpprojeto-gadonamao-admin-frontend"]=this["webpackJsonpprojeto-gadonamao-admin-frontend"]||[]).push([[15],{403:function(e,t,a){"use strict";a.r(t);var c=a(149),n=a(14),r=a.n(n),s=a(18),i=a(22),d=a(1),j=a(151),o=a.n(j),l=a(152),b=a.n(l),u=a(153),O=a.n(u),x=a(74),h=a(26),f=a(49),m=a(50),p=a(51),v=a(58),g=a(59),C=a(60),k=a(85),S=a(63),_=a(64),N=a(66),w=a(68),y=a(70),E=a(62),F=a(65),V=a(46),B=a(24),A=a(8),P=u.Search.SearchBar,z=u.CSVExport.ExportCSVButton;t.default=function(){var e=Object(V.b)(),t=e.datas,a=e.load,n=e.destroy,j=e.update,l=e.store,u=Object(d.useState)(!1),J=Object(i.a)(u,2),L=J[0],U=J[1],D=Object(d.useState)(),I=Object(i.a)(D,2),M=I[0],q=I[1],G=Object(d.useState)(""),H=Object(i.a)(G,2),K=H[0],Q=H[1],R=Object(d.useState)(""),T=Object(i.a)(R,2),W=T[0],X=T[1],Y=Object(d.useState)([]),Z=Object(i.a)(Y,2),$=Z[0],ee=Z[1];Object(d.useEffect)((function(){a("/litros")}),[a]);var te=Object(d.useCallback)((function(){Object(s.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.a.get("/unidades");case 2:t=e.sent,(a=t.data).sort((function(e,t){return e.name>t.name?1:-1})),ee(a);case 6:case"end":return e.stop()}}),e)})))()}),[]),ae=Object(d.useCallback)((function(e){te(),q(e._id),Q(e.valor),X(e.unidade._id),U(!0)}),[]),ce=Object(d.useCallback)((function(){te(),q(null),Q(""),X(""),U(!0)}),[]),ne=Object(d.useCallback)((function(){if(M)return j(M,"/litros",{valor:K,unidade:W}),void U(!1);l("/litros",{valor:K,unidade:W}),U(!1)}),[M,K,W]),re=[{dataField:"_id",text:"ID",hidden:!0},{dataField:"valor",text:"Nome"},{dataField:"unidade",text:"Unidade",formatter:function(e,t){var a;return null===t||void 0===t||null===(a=t.unidade)||void 0===a?void 0:a.name}},{dataField:"#",text:"#",sort:!1,csvExport:!1,formatter:function(e,t){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)(x.a,{target:"button-view-".concat(t._id),children:"Alterar"}),Object(A.jsx)(h.a,{id:"button-view-".concat(t._id),color:"info",size:"sm",className:"mt-2 mr-2",onClick:function(){return ae(t)},children:Object(A.jsx)("i",{className:"fas fa-edit"})}),Object(A.jsx)(x.a,{target:"button-delete-".concat(t._id),children:"Excluir"}),Object(A.jsx)(h.a,{id:"button-delete-".concat(t._id),color:"danger",className:"mt-2 mr-2",size:"sm",onClick:function(){return n(t._id,"/litros")},children:Object(A.jsx)("i",{className:"fas fa-trash"})})]})},style:function(){return{width:"120px"}}}];return Object(A.jsxs)(f.a,{children:[Object(A.jsx)(m.a,{children:Object(A.jsx)(p.a,{children:Object(A.jsxs)(v.a,{children:[Object(A.jsx)(g.a,{children:Object(A.jsx)(m.a,{children:Object(A.jsx)(p.a,{children:Object(A.jsx)("h3",{children:"Litros"})})})}),Object(A.jsx)(C.a,{children:Object(A.jsx)(m.a,{children:Object(A.jsx)(p.a,{children:Object(A.jsx)(m.a,{children:Object(A.jsx)(p.a,{xs:12,sm:5,md:3,className:"mb-3 mb-xl-0",children:Object(A.jsx)(h.a,{block:!0,color:"success",onClick:ce,children:"Cadastrar"})})})})})})]})})}),Object(A.jsx)(m.a,{children:Object(A.jsx)(p.a,{children:Object(A.jsx)(v.a,{children:Object(A.jsx)(g.a,{children:Object(A.jsx)(O.a,{keyField:"_id",data:t,columns:re,exportCSV:{fileName:"gadonamao.csv",onlyExportFiltered:!0,exportAll:!1,separator:";",noAutoBOM:!1},search:!0,children:function(e){return Object(A.jsxs)("div",{children:[Object(A.jsx)(P,Object(c.a)({placeholder:"Buscar"},e.searchProps)),Object(A.jsx)("hr",{}),Object(A.jsx)(o.a,Object(c.a)({pagination:b()()},e.baseProps)),Object(A.jsx)(z,Object(c.a)(Object(c.a)({},e.csvProps),{},{children:"Export CSV!!"}))]})}},"_id")})})})}),Object(A.jsxs)(k.a,{isOpen:L,toggle:function(){return U(!L)},centered:!0,children:[Object(A.jsxs)(S.a,{children:[Object(A.jsx)("strong",{children:"Litro"}),Object(A.jsx)(h.a,{className:"close position-absolute top-4 right-4 py-1 px-2",onClick:function(){return U(!1)},children:Object(A.jsx)("i",{className:"fas fa-times"})})]}),Object(A.jsx)(_.a,{children:Object(A.jsxs)(N.a,{children:[Object(A.jsx)(w.a,{children:Object(A.jsx)(y.a,{type:"text",placeholder:"Valor",value:K,onChange:function(e){var t=e.target.value;return Q(t)}})}),Object(A.jsx)(w.a,{children:Object(A.jsxs)(E.a,{type:"select",id:"unidade",name:"unidade",value:W,onChange:function(e){var t=e.target.value;return X(t)},children:[Object(A.jsx)("option",{value:"",children:"Unidades"}),$.map((function(e){return Object(A.jsx)("option",{value:e._id,children:e.name},e._id)}))]})})]})}),Object(A.jsx)(F.a,{children:Object(A.jsx)(h.a,{onClick:ne,children:"Salvar"})})]})]})}}}]);
//# sourceMappingURL=15.d5441ac6.chunk.js.map