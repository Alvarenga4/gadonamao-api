{"version":3,"sources":["app/pages/Categorias/index.js"],"names":["SearchBar","Search","ExportCSVButton","CSVExport","Categorias","navigate","useNavigate","useManager","datas","load","destroy","useEffect","columns","dataField","text","hidden","sort","formatter","cell","row","image_url","src","alt","width","url","categoria","name","csvExport","target","_id","id","color","size","className","onClick","style","xs","sm","md","block","keyField","data","exportCSV","fileName","onlyExportFiltered","exportAll","separator","noAutoBOM","search","props","placeholder","searchProps","pagination","paginationFactory","baseProps","csvProps"],"mappings":"qUAqBQA,EAAcC,SAAdD,UACAE,EAAoBC,YAApBD,gBAgJOE,UA9If,WACE,IAAMC,EAAWC,cADG,EAEaC,cAAzBC,EAFY,EAEZA,MAAOC,EAFK,EAELA,KAAMC,EAFD,EAECA,QAErBC,qBAAU,WACRF,EAAK,iBACJ,CAACA,IAEJ,IA6BMG,EAAU,CACd,CACEC,UAAW,MACXC,KAAM,KACNC,QAAQ,GAEV,CACEF,UAAW,YACXC,KAAM,SACNE,MAAM,EACNC,UAAW,SAACC,EAAMC,GAAP,OAAgBA,EAAIC,UAC7B,qBAAKC,IAAKF,EAAIC,UAAWE,IAAKH,EAAIC,UAAWG,MAAM,UAEnD,qBAAKF,IAAKF,EAAIK,IAAKF,IAAKH,EAAIK,IAAKD,MAAM,YAG3C,CACEV,UAAW,OACXC,KAAM,QAER,CACED,UAAW,YACXC,KAAM,YACNG,UAAW,SAACC,EAAMC,GAAP,oBAAeA,QAAf,IAAeA,GAAf,UAAeA,EAAKM,iBAApB,aAAe,EAAgBC,OAE5C,CACEb,UAAW,IACXC,KAAM,IACNE,MAAM,EACNW,WAAW,EACXV,UA3DY,SAACC,EAAMC,GAAP,OACd,qCACE,cAAC,IAAD,CAAqBS,OAAM,sBAAiBT,EAAIU,KAAhD,qBAGA,cAAC,IAAD,CACEC,GAAE,sBAAiBX,EAAIU,KACvBE,MAAM,OACNC,KAAK,KACLC,UAAU,YACVC,QAAS,kBAAM7B,EAAS,aAAD,OAAcc,EAAIU,OAL3C,SAOE,mBAAGI,UAAU,kBAEf,cAAC,IAAD,CAAqBL,OAAM,wBAAmBT,EAAIU,KAAlD,qBAGA,cAAC,IAAD,CACEC,GAAE,wBAAmBX,EAAIU,KACzBE,MAAM,SACNE,UAAU,YACVD,KAAK,KACLE,QAAS,kBAAMxB,EAAQS,EAAIU,IAAK,gBALlC,SAOE,mBAAGI,UAAU,uBAoCfE,MAAO,iBAAO,CAAEZ,MAAO,YAI3B,OACE,eAAC,IAAD,WACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,eAAC,IAAD,WACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,gDAGJ,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAAKa,GAAI,GAAIC,GAAI,EAAGC,GAAI,EAAGL,UAAU,eAArC,SACE,cAAC,IAAD,CACEM,OAAK,EACLR,MAAM,UACNG,QAAS,kBAAM7B,EAAS,cAH1B,wCAehB,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,UACE,cAAC,IAAD,CAEEmC,SAAS,MACTC,KAAMjC,EACNI,QAASA,EACT8B,UAAW,CACTC,SAAU,gBACVC,oBAAoB,EACpBC,WAAW,EACXC,UAAW,IACXC,WAAW,GAEbC,QAAM,EAZR,SAcG,SAACC,GAAD,OACC,gCACE,cAACjD,EAAD,aAAWkD,YAAY,UAAaD,EAAME,cAC1C,uBACA,cAAC,IAAD,aACEC,WAAYC,OACRJ,EAAMK,YAEZ,cAACpD,EAAD,2BAAqB+C,EAAMM,UAA3B,oCArBA","file":"static/js/13.d5ba3ab4.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport paginationFactory from 'react-bootstrap-table2-paginator';\nimport ToolkitProvider, {\n  Search,\n  CSVExport,\n} from 'react-bootstrap-table2-toolkit';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardFooter,\n  Col,\n  Container,\n  Row,\n  UncontrolledTooltip,\n} from 'reactstrap';\n\nimport { useManager } from '../../hooks/manager';\n\nconst { SearchBar } = Search;\nconst { ExportCSVButton } = CSVExport;\n\nfunction Categorias() {\n  const navigate = useNavigate();\n  const { datas, load, destroy } = useManager();\n\n  useEffect(() => {\n    load('/categorias');\n  }, [load]);\n\n  const actions = (cell, row) => (\n    <>\n      <UncontrolledTooltip target={`button-view-${row._id}`}>\n        Alterar\n      </UncontrolledTooltip>\n      <Button\n        id={`button-view-${row._id}`}\n        color=\"info\"\n        size=\"sm\"\n        className=\"mt-2 mr-2\"\n        onClick={() => navigate(`categoria/${row._id}`)}\n      >\n        <i className=\"fas fa-edit\" />\n      </Button>\n      <UncontrolledTooltip target={`button-delete-${row._id}`}>\n        Excluir\n      </UncontrolledTooltip>\n      <Button\n        id={`button-delete-${row._id}`}\n        color=\"danger\"\n        className=\"mt-2 mr-2\"\n        size=\"sm\"\n        onClick={() => destroy(row._id, '/categorias')}\n      >\n        <i className=\"fas fa-trash\" />\n      </Button>\n    </>\n  );\n\n  const columns = [\n    {\n      dataField: '_id',\n      text: 'ID',\n      hidden: true,\n    },\n    {\n      dataField: 'image_url',\n      text: 'Imagem',\n      sort: true,\n      formatter: (cell, row) => (row.image_url ? (\n        <img src={row.image_url} alt={row.image_url} width=\"100px\" />\n      ) : (\n        <img src={row.url} alt={row.url} width=\"100px\" />\n      )),\n    },\n    {\n      dataField: 'name',\n      text: 'Nome',\n    },\n    {\n      dataField: 'categoria',\n      text: 'Categoria',\n      formatter: (cell, row) => row?.categoria?.name,\n    },\n    {\n      dataField: '#',\n      text: '#',\n      sort: false,\n      csvExport: false,\n      formatter: actions,\n      style: () => ({ width: '120px' }),\n    },\n  ];\n\n  return (\n    <Container>\n      <Row>\n        <Col>\n          <Card>\n            <CardBody>\n              <Row>\n                <h3>Categorias</h3>\n              </Row>\n            </CardBody>\n            <CardFooter>\n              <Row>\n                <Col>\n                  <Row>\n                    <Col xs={12} sm={5} md={3} className=\"mb-3 mb-xl-0\">\n                      <Button\n                        block\n                        color=\"success\"\n                        onClick={() => navigate('categoria')}\n                      >\n                        Cadastrar\n                      </Button>\n                    </Col>\n                  </Row>\n                </Col>\n              </Row>\n            </CardFooter>\n          </Card>\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n          <Card>\n            <CardBody>\n              <ToolkitProvider\n                key=\"_id\"\n                keyField=\"_id\"\n                data={datas}\n                columns={columns}\n                exportCSV={{\n                  fileName: 'gadonamao.csv',\n                  onlyExportFiltered: true,\n                  exportAll: false,\n                  separator: ';',\n                  noAutoBOM: false,\n                }}\n                search\n              >\n                {(props) => (\n                  <div>\n                    <SearchBar placeholder=\"Buscar\" {...props.searchProps} />\n                    <hr />\n                    <BootstrapTable\n                      pagination={paginationFactory()}\n                      {...props.baseProps}\n                    />\n                    <ExportCSVButton {...props.csvProps}>\n                      Export CSV!!\n                    </ExportCSVButton>\n                  </div>\n                )}\n              </ToolkitProvider>\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default Categorias;\n"],"sourceRoot":""}