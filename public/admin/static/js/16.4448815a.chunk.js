(this["webpackJsonpprojeto-gadonamao-admin-frontend"]=this["webpackJsonpprojeto-gadonamao-admin-frontend"]||[]).push([[16],{394:function(e,a,t){"use strict";t.r(a);var n=t(14),s=t.n(n),r=t(18),c=t(22),i=t(1),o=t(49),l=t(50),j=t(51),d=t(58),u=t(59),b=t(66),p=t(68),h=t(71),m=t(70),x=t(72),O=t(37),f=t(67),g=t(26),v=t(392),w=t(32),y=t(33),k=t(24),N=t(8);a.default=function(){var e=Object(y.b)().signIn,a=Object(i.useRef)(),t=Object(i.useState)({}),n=Object(c.a)(t,2),E=n[0],L=n[1],S=Object(i.useState)(""),C=Object(c.a)(S,2),I=C[0],T=C[1],q=Object(i.useState)(""),z=Object(c.a)(q,2),F=z[0],J=z[1];return Object(N.jsxs)(o.a,{children:[Object(N.jsx)(w.a,{ref:a}),Object(N.jsx)(l.a,{className:"justify-content-center align-items-center w-100 vh-100",children:Object(N.jsx)(j.a,{xs:"12",sm:"10",md:"6",lg:"5",children:Object(N.jsx)(d.a,{className:"p-4",children:Object(N.jsx)(u.a,{children:Object(N.jsxs)(b.a,{children:[Object(N.jsx)("h1",{children:"Login"}),Object(N.jsx)(p.a,{children:Object(N.jsxs)(h.a,{className:"input-group-merge ".concat(E.email?"invalid":""),children:[Object(N.jsx)(m.a,{type:"text",placeholder:"Email",value:I,invalid:!!E.email,onChange:function(e){var a=e.target.value;return T(a)}}),Object(N.jsx)(x.a,{addonType:"append",children:Object(N.jsx)(O.a,{children:Object(N.jsx)("i",{className:"fas fa-user"})})}),Object(N.jsx)(f.a,{children:E.email})]})}),Object(N.jsx)(p.a,{children:Object(N.jsxs)(h.a,{className:"input-group-merge ".concat(E.password?"invalid":""),children:[Object(N.jsx)(m.a,{type:"password",placeholder:"Senha",value:F,invalid:!!E.password,onChange:function(e){var a=e.target.value;return J(a)}}),Object(N.jsx)(x.a,{addonType:"append",children:Object(N.jsx)(O.a,{children:Object(N.jsx)("i",{className:"fas fa-eye-slash"})})}),Object(N.jsx)(f.a,{children:E.password})]})}),Object(N.jsx)(l.a,{children:Object(N.jsx)(j.a,{xs:"6",children:Object(N.jsx)(g.a,{color:"primary",className:"px-4",onClick:function(){Object(r.a)(s.a.mark((function t(){var n,r,c,i,o,l,j,d;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={email:I,password:F},r=v.b().shape({email:v.c().email("E-mail inv\xe1lido").required("Informe um email"),password:v.c().required("Informe uma senha")}),t.next=5,r.validate(n,{abortEarly:!1});case 5:return t.next=7,k.a.post("/admins/authenticate",n);case 7:c=t.sent,i=c.data,o=i.token,l=i.user,a.current.notify({message:"Login realizado com sucesso"}),setTimeout((function(){e(o,l)}),2e3),t.next=28;break;case 13:if(t.prev=13,t.t0=t.catch(0),console.log(t.t0),L({}),!(t.t0 instanceof v.a)){t.next=23;break}return a.current.notify({message:"Falha na Valida\xe7\xe3o",color:"warning"}),j={},t.t0.inner.forEach((function(e){j[e.path]=e.message})),L(j),t.abrupt("return");case 23:if(!(t.t0&&t.t0.response&&t.t0.response.data)){t.next=27;break}return d=t.t0.response.data.message,a.current.notify({message:d,color:"danger"}),t.abrupt("return");case 27:a.current.notify({message:"Falha ao realizar Login",color:"danger"});case 28:case"end":return t.stop()}}),t,null,[[0,13]])})))()},children:"Login"})})})]})})})})})]})}}}]);
//# sourceMappingURL=16.4448815a.chunk.js.map