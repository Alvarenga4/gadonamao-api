{"version":3,"sources":["app/pages/Anuncios/index.js"],"names":["SearchBar","Search","ExportCSVButton","CSVExport","Anuncios","navigate","useNavigate","useManager","update","datas","load","destroy","useEffect","handleCreateAnuncio","useCallback","localStorage","removeItem","ANUNCIO_DATA","columns","dataField","text","hidden","isMobile","style","width","formatter","cell","row","vendido","className","sort","csvExport","target","_id","id","color","size","onClick","xs","sm","md","block","getItem","JSON","parse","anuncioId","keyField","data","exportCSV","fileName","onlyExportFiltered","exportAll","separator","noAutoBOM","search","props","placeholder","searchProps","pagination","paginationFactory","baseProps","csvProps"],"mappings":"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","file":"static/js/14.181911f2.chunk.js","sourcesContent":["import React, { useEffect, useCallback } from 'react';\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport paginationFactory from 'react-bootstrap-table2-paginator';\nimport ToolkitProvider, {\n  Search,\n  CSVExport,\n} from 'react-bootstrap-table2-toolkit';\nimport { isMobile } from 'react-device-detect';\nimport { useNavigate } from 'react-router-dom';\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardFooter,\n  Col,\n  Container,\n  Row,\n  UncontrolledTooltip,\n} from 'reactstrap';\n\nimport { ANUNCIO_DATA } from '../../constants/app';\nimport { useManager } from '../../hooks/manager';\n\nconst { SearchBar } = Search;\nconst { ExportCSVButton } = CSVExport;\n\nfunction Anuncios() {\n  const navigate = useNavigate();\n  const { update, datas, load, destroy } = useManager();\n\n  useEffect(() => {\n    load('/anuncios');\n  }, [load]);\n\n  const handleCreateAnuncio = useCallback(() => {\n    localStorage.removeItem(ANUNCIO_DATA);\n    navigate('admin-usuario/anuncio');\n  }, []);\n\n  const actions = (cell, row) => (\n    <>\n      {!row.vendido && (\n        <>\n          <UncontrolledTooltip target={`button-vendido-${row._id}`}>\n            Vendido\n          </UncontrolledTooltip>\n          <Button\n            id={`button-vendido-${row._id}`}\n            color=\"success\"\n            size=\"sm\"\n            className=\"mt-2 mr-2\"\n            onClick={() => update(row._id, '/vendidos', { vendido: true })}\n          >\n            <i className=\"fas fa-check-circle\" />\n          </Button>\n        </>\n      )}\n      <UncontrolledTooltip target={`button-delete-${row._id}`}>\n        Excluir\n      </UncontrolledTooltip>\n      <Button\n        id={`button-delete-${row._id}`}\n        color=\"danger\"\n        className=\"mt-2 mr-2\"\n        size=\"sm\"\n        onClick={() => destroy(row._id, '/anuncios')}\n      >\n        <i className=\"fas fa-trash\" />\n      </Button>\n    </>\n  );\n\n  const columns = [\n    {\n      dataField: '_id',\n      text: 'ID',\n      hidden: true,\n    },\n    {\n      dataField: 'titulo',\n      text: 'Título',\n    },\n    {\n      dataField: 'compartilhado',\n      text: 'Compartilhado',\n      hidden: isMobile,\n      style: () => ({ width: '120px' }),\n    },\n    {\n      dataField: 'favoritado',\n      text: 'Favoritado',\n      hidden: isMobile,\n      style: () => ({ width: '120px' }),\n    },\n    {\n      dataField: 'reportado',\n      text: 'Reportado',\n      hidden: isMobile,\n      style: () => ({ width: '120px' }),\n    },\n    {\n      dataField: 'visualizado',\n      text: 'Visualizado',\n      hidden: isMobile,\n      style: () => ({ width: '120px' }),\n    },\n    {\n      dataField: 'vendido',\n      text: 'Vendido',\n      hidden: isMobile,\n      style: () => ({ width: '120px' }),\n      formatter: (cell, row) => (row.vendido ? (\n        <i className=\"fas fa-check-circle text-success\" />\n      ) : (\n        <i className=\"fas fa-times-circle text-danger\" />\n      )),\n    },\n    {\n      dataField: '#',\n      text: '#',\n      sort: false,\n      csvExport: false,\n      formatter: actions,\n      style: () => ({ width: '120px' }),\n    },\n  ];\n\n  return (\n    <Container>\n      <Row>\n        <Col>\n          <Card>\n            <CardBody>\n              <Row>\n                <Col>\n                  <h3>Anúncios</h3>\n                </Col>\n              </Row>\n            </CardBody>\n            <CardFooter>\n              <Row>\n                <Col>\n                  <Row>\n                    <Col xs={12} sm={6} md={3} className=\"mb-3 mb-xl-0\">\n                      <Button\n                        block\n                        color=\"success\"\n                        onClick={handleCreateAnuncio}\n                      >\n                        Criar Anúncio\n                      </Button>\n                    </Col>\n                    {localStorage.getItem(ANUNCIO_DATA)\n                      && (!JSON.parse(localStorage.getItem(ANUNCIO_DATA))\n                        .anuncioId ? (\n                          <Col xs={12} sm={6} md={6} className=\"mb-3 mb-xl-0\">\n                            <Button\n                              block\n                              color=\"success\"\n                              onClick={() => navigate('admin-usuario/anuncio')}\n                            >\n                              Continuar Criando Anuncio\n                            </Button>\n                          </Col>\n                        ) : (\n                          <Col xs={12} sm={6} md={6} className=\"mb-3 mb-xl-0\">\n                            <Button\n                              block\n                              color=\"success\"\n                              onClick={() => navigate('admin-usuario/anuncio')}\n                            >\n                              Continuar Alterando Anuncio\n                            </Button>\n                          </Col>\n                        ))}\n                  </Row>\n                </Col>\n              </Row>\n            </CardFooter>\n          </Card>\n        </Col>\n      </Row>\n      <Row>\n        <Col>\n          <Card>\n            <CardBody>\n              <ToolkitProvider\n                key=\"_id\"\n                keyField=\"_id\"\n                data={datas}\n                columns={columns}\n                exportCSV={{\n                  fileName: 'gadonamao.csv',\n                  onlyExportFiltered: true,\n                  exportAll: false,\n                  separator: ';',\n                  noAutoBOM: false,\n                }}\n                search\n              >\n                {(props) => (\n                  <div>\n                    <SearchBar placeholder=\"Buscar\" {...props.searchProps} />\n                    <hr />\n                    <BootstrapTable\n                      pagination={paginationFactory()}\n                      {...props.baseProps}\n                    />\n                    <ExportCSVButton {...props.csvProps}>\n                      Export CSV!!\n                    </ExportCSVButton>\n                  </div>\n                )}\n              </ToolkitProvider>\n            </CardBody>\n          </Card>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default Anuncios;\n"],"sourceRoot":""}