(this["webpackJsonpprojeto-gadonamao-admin-user-frontend"]=this["webpackJsonpprojeto-gadonamao-admin-user-frontend"]||[]).push([[2],{145:function(e,t,n){},146:function(e,t,n){},147:function(e,t,n){},148:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),c=n(21),s=n.n(c),o=n(31),u=n(77),i=n(34),l=n(49),f=n(10),d=n(8),b=a.a.lazy((function(){return Promise.all([n.e(10),n.e(6)]).then(n.bind(null,420))})),j=function(){return Object(d.jsxs)(f.c,{children:[Object(d.jsx)(f.a,{path:"/",element:Object(d.jsx)(b,{})}),Object(d.jsx)(f.a,{path:"*",element:Object(d.jsx)(b,{})})]})},m=a.a.lazy((function(){return Promise.all([n.e(0),n.e(16)]).then(n.bind(null,416))})),p=function(){return Object(d.jsxs)(f.c,{children:[Object(d.jsx)(f.a,{path:"admin-usuario/",element:Object(d.jsx)(m,{})}),Object(d.jsx)(f.a,{path:"admin-usuario/:token",element:Object(d.jsx)(m,{})})]})},O=(n(143),n(144),n(145),n(146),n(147),Object(d.jsx)("div",{className:"bg-primary opacity-7 d-flex w-100 vh-100 align-items-center justify-content-center position-fixed left-0 top-0",style:{zIndex:999999},children:Object(d.jsx)(u.a,{type:"grow"})})),x=function(){var e=Object(i.b)().isAuthenticated;return Object(d.jsx)(o.a,{children:Object(d.jsx)(r.Suspense,{fallback:O,children:e?Object(d.jsx)(l.a,{children:Object(d.jsx)(j,{})}):Object(d.jsx)(p,{})})})},h=n(48);s.a.render(Object(d.jsx)(h.b,{children:Object(d.jsx)(i.a,{children:Object(d.jsx)(x,{})})}),document.getElementById("root"))},19:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return c}));var r="@token",a="@idkey",c="@username"},24:function(e,t,n){"use strict";var r=n(14),a=n.n(r),c=n(18),s=n(79),o=n.n(s),u=n(19),i=o.a.create({baseURL:"http://gadonamao-com-br.umbler.net/api"});i.interceptors.request.use(function(){var e=Object(c.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=localStorage.getItem(u.b),r=localStorage.getItem(u.a),n&&(t.headers.Authorization="Bearer ".concat(n),t.headers.id=r),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t.a=i},32:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r="@sidebarshow",a="@anuncio_data"},33:function(e,t,n){"use strict";var r=n(1),a=n(89),c=n.n(a),s=n(8);function o(e,t){var n=Object(r.useRef)();return Object(r.useImperativeHandle)(t,(function(){return{notify:function(e){var t=e.place,r=e.title,a=e.message,c=e.color,o=e.icon,u=e.autoDismiss,i=e.closeButton,l={place:t||"tr",message:Object(s.jsxs)("div",{className:"d-flex flex-column",children:[Object(s.jsx)("span",{className:"alert-title",children:r||"Mensagem"}),Object(s.jsx)("span",{children:a})]}),type:c||"success",icon:o||"fas fa-bell",autoDismiss:u||5,closeButton:i};n.current.notificationAlert(l)}}})),Object(s.jsx)(c.a,{ref:n})}t.a=Object(r.forwardRef)(o)},34:function(e,t,n){"use strict";n.d(t,"b",(function(){return b}));var r=n(14),a=n.n(r),c=n(18),s=n(20),o=n(1),u=n(33),i=n(19),l=n(24),f=n(8),d=Object(o.createContext)(),b=function(){var e=Object(o.useContext)(d);if(!e)throw new Error("useAuth must be used within a AuthProvider");return e};t.a=function(e){var t=e.children,n=Object(o.useState)(null),r=Object(s.a)(n,2),b=r[0],j=r[1],m=Object(o.useState)(!1),p=Object(s.a)(m,2),O=p[0],x=p[1],h=Object(o.useRef)();Object(o.useEffect)((function(){b?Object(c.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!b){e.next=5;break}return e.next=4,l.a.get("/tokens/".concat(b));case 4:x(!0);case 5:e.next=15;break;case 7:if(e.prev=7,e.t0=e.catch(0),console.log(e.t0),x(!1),"string"!==typeof e.t0){e.next=14;break}return h.current.notify({message:e.t0,color:"danger"}),e.abrupt("return");case 14:e.t0&&e.t0.response&&(t=e.t0.response.data.message)&&h.current.notify({message:t,color:"danger"});case 15:case"end":return e.stop()}}),e,null,[[0,7]])})))():x(!1)}),[b]);var v=Object(o.useMemo)((function(){return{isAuthenticated:O,signIn:function(e,t){localStorage.setItem(i.b,e),localStorage.setItem(i.a,t.id||t._id),localStorage.setItem(i.c,t.name),j(e)},signOut:function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.a.delete("/tokens/".concat(b));case 2:localStorage.removeItem(i.b),localStorage.removeItem(i.a),localStorage.removeItem(i.c),j(null);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}}),[b,O]);return Object(o.useEffect)((function(){j(localStorage.getItem(i.b))}),[]),Object(f.jsxs)(d.Provider,{value:v,children:[Object(f.jsx)(u.a,{ref:h}),t]})}},48:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(20),a=n(1),c=n(77),s=n(8);var o=function(e){return e.loading?Object(s.jsx)("div",{className:"bg-primary opacity-7 d-flex w-100 vh-100 align-items-center justify-content-center position-fixed left-0 top-0",style:{zIndex:999999},children:Object(s.jsx)(c.a,{type:"grow"})}):null},u=n(32),i=Object(a.createContext)();t.b=function(e){var t=e.children,n=Object(a.useState)(!1),c=Object(r.a)(n,2),l=c[0],f=c[1],d=Object(a.useState)("opened"),b=Object(r.a)(d,2),j=b[0],m=b[1],p=Object(a.useCallback)((function(){m((function(e){return localStorage.setItem(u.b,"opened"===e?"closed":"opened"),"opened"===e?"closed":"opened"}))}),[]),O=Object(a.useCallback)((function(){m((function(){return localStorage.setItem(u.b,"minimized"),"minimized"}))}),[]);Object(a.useEffect)((function(){m(localStorage.getItem(u.b)||"opened")}),[]);var x=Object(a.useMemo)((function(){return{sidebarShow:j,toggleSidebar:p,minimizeSidebar:O,setLoading:f}}),[j]);return Object(s.jsxs)(i.Provider,{value:x,children:[Object(s.jsx)(o,{loading:l}),t]})}},49:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return p}));var r=n(41),a=n(14),c=n.n(a),s=n(18),o=n(20),u=n(1),i=n(91),l=n.n(i),f=n(33),d=n(24),b=n(8),j=Object(u.createContext)(),m=function(e){var t=e.children,n=Object(u.useState)(null),a=Object(o.a)(n,2),i=a[0],m=a[1],p=Object(u.useState)([]),O=Object(o.a)(p,2),x=O[0],h=O[1],v=Object(u.useState)(!1),g=Object(o.a)(v,2),w=g[0],y=g[1],k=Object(u.useRef)(),S=Object(u.useCallback)((function(e,t){if("string"!==typeof e){if(e&&e.response){var n=e.response.data.message;if(n)return void k.current.notify({title:t,message:n,color:"danger"})}k.current.notify({message:t,color:"danger"})}else k.current.notify({title:t,message:e,color:"danger"})}),[]),C=Object(u.useCallback)((function(e,t,n){e&&Object(s.a)(c.a.mark((function r(){var a;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,y(!0),r.next=4,d.a.get(e);case 4:a=r.sent,h(a.data),t&&t(),y(!1),r.next=15;break;case 10:r.prev=10,r.t0=r.catch(0),n&&n(r.t0),y(!1),S(r.t0,"Falha ao carregar os dados");case 15:case"end":return r.stop()}}),r,null,[[0,10]])})))()}),[S]),I=Object(u.useCallback)((function(e,t,n,a){e&&t&&Object(s.a)(c.a.mark((function s(){var o;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,y(!0),c.next=4,d.a.post(e,t);case 4:o=c.sent,h((function(e){return[o.data].concat(Object(r.a)(e))})),k.current.notify({message:"Cadastrado com sucesso!!!"}),n&&n(o.data),y(!1),c.next=16;break;case 11:c.prev=11,c.t0=c.catch(0),a&&a(c.t0),y(!1),S(c.t0,"Falha ao Cadastrar");case 16:case"end":return c.stop()}}),s,null,[[0,11]])})))()}),[S]),B=Object(u.useCallback)((function(e,t,n,a,o){e&&t&&n&&Object(s.a)(c.a.mark((function s(){var u;return c.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,y(!0),c.next=4,d.a.put("".concat(t,"/").concat(e),n);case 4:u=c.sent,h((function(t){return[u.data].concat(Object(r.a)(t.filter((function(t){return(t.id||t._id)!==e}))))})),k.current.notify({message:"Alterado com sucesso!!!"}),a&&a(u.data),y(!1),c.next=16;break;case 11:c.prev=11,c.t0=c.catch(0),o&&o(c.t0),y(!1),S(c.t0,"Falha ao alterar");case 16:case"end":return c.stop()}}),s,null,[[0,11]])})))()}),[S]),z=Object(u.useCallback)((function(e,t,n,r){e&&t&&Object(s.a)(c.a.mark((function a(){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:try{m(Object(b.jsx)(l.a,{danger:!0,title:"Confirm",onCancel:function(){return m(null)},showCancel:!0,showCloseButton:!0,confirmBtnBsStyle:"danger",confirmBtnText:"Excluir",cancelBtnBsStyle:"link",cancelBtnText:"Cancelar",reverseButtons:!0,onConfirm:Object(s.a)(c.a.mark((function a(){return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,y(!0),a.next=4,d.a.delete("".concat(t,"/").concat(e));case 4:h((function(t){return t.filter((function(t){return(t.id||t._id)!==e}))})),m(null),k.current.notify({message:"Excluido com sucesso"}),n&&n(),y(!1),a.next=16;break;case 11:a.prev=11,a.t0=a.catch(0),r&&r(a.t0),y(!1),S(a.t0,"Falha ao excluir");case 16:case"end":return a.stop()}}),a,null,[[0,11]])}))),children:Object(b.jsx)("strong",{children:"Tem certeza que deseja excluir?"})}))}catch(o){r&&r(o),y(!1),S(o,"Falha ao excluir")}case 1:case"end":return a.stop()}}),a)})))()}),[S]),E=Object(u.useMemo)((function(){return{loading:w,datas:x,setDatas:h,load:C,store:I,update:B,destroy:z}}),[w,x,h,C,I,B,z]);return Object(b.jsxs)(j.Provider,{value:E,children:[i,Object(b.jsx)(f.a,{ref:k}),t]})},p=function(){var e=Object(u.useContext)(j);if(!e)throw new Error("useManager must be used within a ManagerProvider");return e}}},[[148,3,4]]]);
//# sourceMappingURL=main.bba07c10.chunk.js.map